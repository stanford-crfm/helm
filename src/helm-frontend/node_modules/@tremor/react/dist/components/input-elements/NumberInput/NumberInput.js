import{__rest as e}from"tslib";import t,{useRef as r}from"react";import{mergeRefs as n,makeClassName as o}from"../../../lib/utils.js";import{tremorTwMerge as a}from"../../../lib/tremorTwMerge.js";import l from"../../../assets/PlusIcon.js";import s from"../../../assets/MinusIcon.js";import u from"../BaseInput.js";const p="flex mx-auto text-tremor-content-subtle dark:text-dark-tremor-content-subtle",i="cursor-pointer hover:text-tremor-content dark:hover:text-dark-tremor-content",d=t.forwardRef(((d,c)=>{const{onSubmit:m,enableStepper:b=!0,disabled:v,onValueChange:f,onChange:k}=d,w=e(d,["onSubmit","enableStepper","disabled","onValueChange","onChange"]),y=r(null),[h,x]=t.useState(!1),g=t.useCallback((()=>{x(!0)}),[]),C=t.useCallback((()=>{x(!1)}),[]),[D,E]=t.useState(!1),N=t.useCallback((()=>{E(!0)}),[]),I=t.useCallback((()=>{E(!1)}),[]);return t.createElement(u,Object.assign({type:"number",ref:n([y,c]),disabled:v,makeInputClassName:o("NumberInput"),onKeyDown:e=>{var t;if("Enter"===e.key&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){const e=null===(t=y.current)||void 0===t?void 0:t.value;null==m||m(parseFloat(null!=e?e:""))}"ArrowDown"===e.key&&g(),"ArrowUp"===e.key&&N()},onKeyUp:e=>{"ArrowDown"===e.key&&C(),"ArrowUp"===e.key&&I()},onChange:e=>{v||(null==f||f(parseFloat(e.target.value)),null==k||k(e))},stepper:b?t.createElement("div",{className:a("flex justify-center align-middle")},t.createElement("div",{tabIndex:-1,onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),onTouchStart:e=>e.preventDefault(),onMouseUp:()=>{var e,t;v||(null===(e=y.current)||void 0===e||e.stepDown(),null===(t=y.current)||void 0===t||t.dispatchEvent(new Event("input",{bubbles:!0})))},className:a(!v&&i,p,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},t.createElement(s,{"data-testid":"step-down",className:(h?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"})),t.createElement("div",{tabIndex:-1,onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),onTouchStart:e=>e.preventDefault(),onMouseUp:()=>{var e,t;v||(null===(e=y.current)||void 0===e||e.stepUp(),null===(t=y.current)||void 0===t||t.dispatchEvent(new Event("input",{bubbles:!0})))},className:a(!v&&i,p,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},t.createElement(l,{"data-testid":"step-up",className:(D?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"}))):null},w))}));d.displayName="NumberInput";export{d as default};
