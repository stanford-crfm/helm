'use client';
import{__rest as e}from"tslib";import t from"react";import{HorizontalPositions as o,Sizes as i}from"../../../lib/constants.js";import{border as n}from"../../../lib/shape.js";import{sizing as r}from"../../../lib/sizing.js";import{spacing as a}from"../../../lib/spacing.js";import{mergeRefs as s,makeClassName as l}from"../../../lib/utils.js";import{tremorTwMerge as m}from"../../../lib/tremorTwMerge.js";import{Transition as c}from"react-transition-group";import d,{useTooltip as g}from"../../util-elements/Tooltip/Tooltip.js";import{iconSizes as p,getButtonColors as f,getButtonProportions as h}from"./styles.js";import u from"../../../assets/LoadingSpinner.js";const b=l("Button"),x=({loading:e,iconSize:i,iconPosition:n,Icon:s,needMargin:l,transitionState:c})=>{const d=l?n===o.Left?m(a.twoXs.negativeMarginLeft,a.xs.marginRight):m(a.twoXs.negativeMarginRight,a.xs.marginLeft):"",g=m(r.none.width,r.none.height),p={default:g,entering:g,entered:i,exiting:i,exited:g};return e?t.createElement(u,{className:m(b("icon"),"animate-spin shrink-0",d,p.default,p[c]),style:{transition:"width 150ms"}}):t.createElement(s,{className:m(b("icon"),"shrink-0",i,d)})},j=t.forwardRef(((r,a)=>{const{icon:l,iconPosition:u=o.Left,size:j=i.SM,color:w,variant:v="primary",disabled:S,loading:E=!1,loadingText:z,children:C,tooltip:M,className:N}=r,P=e(r,["icon","iconPosition","size","color","variant","disabled","loading","loadingText","children","tooltip","className"]),R=l,y=E||S,T=void 0!==R||E,k=E&&z,B=!(!C&&!k),L=m(p[j].height,p[j].width),I="light"!==v?m("rounded-tremor-default","shadow-tremor-input","dark:shadow-dark-tremor-input",n.sm.all):"",X=f(v,w),O=h(v)[j],{tooltipProps:Y,getReferenceProps:q}=g(300);return t.createElement(c,{in:E,timeout:50},(e=>t.createElement("button",Object.assign({ref:s([a,Y.refs.setReference]),className:m(b("root"),"flex-shrink-0 inline-flex justify-center items-center group font-medium outline-none",I,O.paddingX,O.paddingY,O.fontSize,X.textColor,X.bgColor,X.borderColor,X.hoverBorderColor,y?"opacity-50 cursor-not-allowed":m(f(v,w).hoverTextColor,f(v,w).hoverBgColor,f(v,w).hoverBorderColor),N),disabled:y},q,P),t.createElement(d,Object.assign({text:M},Y)),T&&u!==o.Right?t.createElement(x,{loading:E,iconSize:L,iconPosition:u,Icon:R,transitionState:e,needMargin:B}):null,k||C?t.createElement("span",{className:m(b("text"),"text-sm whitespace-nowrap")},k?z:C):null,T&&u===o.Right?t.createElement(x,{loading:E,iconSize:L,iconPosition:u,Icon:R,transitionState:e,needMargin:B}):null)))}));j.displayName="Button";export{x as ButtonIconOrSpinner,j as default};
