import{r,a as Ve,L as k,O as Ke,d as We,u as Me,f as Pe,H as Ze,h as Ye,i as O,R as Je}from"./react-d4a0b69b.js";import{g as re,b as Y,m as ce,s as Ae,a as Xe,d as Re,y as Qe,c as ke,e as he,l as xe}from"./tremor-54a99cc4.js";import"./recharts-6d337683.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=a(l);fetch(l.href,o)}})();var Ce={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=r,ss=Symbol.for("react.element"),ts=Symbol.for("react.fragment"),ns=Object.prototype.hasOwnProperty,rs=es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,as={key:!0,ref:!0,__self:!0,__source:!0};function Le(s,t,a){var n,l={},o=null,i=null;a!==void 0&&(o=""+a),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)ns.call(t,n)&&!as.hasOwnProperty(n)&&(l[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:ss,type:s,key:o,ref:i,props:l,_owner:rs.current}}ae.Fragment=ts;ae.jsx=Le;ae.jsxs=Le;Ce.exports=ae;var e=Ce.exports,de={},Ee=Ve;de.createRoot=Ee.createRoot,de.hydrateRoot=Ee.hydrateRoot;function ls({title:s,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),s?r.createElement("title",{id:t},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const is=r.forwardRef(ls),os=is;function cs({title:s,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),s?r.createElement("title",{id:t},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const ds=r.forwardRef(cs),us=ds;function ms({title:s,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),s?r.createElement("title",{id:t},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const hs=r.forwardRef(ms),xs=hs,fs=""+new URL("crfm-logo-74391ab8.png",import.meta.url).href;function ps(){const[s,t]=r.useState(!1);return e.jsxs("div",{className:"relative inline-block text-left p-2",children:[e.jsxs("div",{className:"inline-flex items-center p-2",children:[e.jsx(k,{to:"/",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"https://crfm.stanford.edu/helm/v0.3.0/images/helm-logo-simple.png",alt:"Image 1",className:"h-10 object-cover"}),window.HELM_TYPE?e.jsxs("div",{className:"hidden lg:flex pl-3",children:[" ",e.jsx("strong",{children:window.HELM_TYPE})," "]}):e.jsx(e.Fragment,{children:" "})]})}),e.jsx("button",{onClick:()=>t(!s),className:"inline-flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),s&&e.jsx("div",{className:"absolute mt-2 w-max translate-x-4 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[e.jsx("div",{className:"block px-4 py-2 text-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:e.jsx("a",{href:"https://crfm.stanford.edu/helm/classic/latest/",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{children:[e.jsx("strong",{children:"HELM Classic: "}),"Thorough language model evaluations based on the scenarios from the original HELM paper"]})})})}),e.jsx("div",{className:"block px-4 py-2 text-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:e.jsx("a",{href:"https://crfm.stanford.edu/helm/lite/latest/",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{children:[e.jsx("strong",{children:"HELM Lite: "}),"Lightweight, broad evaluation of the capabilities of language models using in-context learning"]})})})}),e.jsx("div",{className:"block px-4 py-2 text-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:e.jsx("a",{href:"https://crfm.stanford.edu/heim/latest/",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{children:[e.jsx("strong",{children:"HEIM: "}),"Holistic evaluation of text-to-image models"]})})})})]})})]})}function fe(){return String(window.RELEASE)}function P(s){return`${window.BENCHMARK_OUTPUT_BASE_URL.replace(/\/$/,"")}/${s.replace(/^\//,"")}`}function K(){return window.RELEASE?`/releases/${window.RELEASE}`:`/runs/${window.SUITE}`}async function gs(s){try{return await(await fetch(P(`${K()}/summary.json`),{signal:s})).json()}catch(t){return console.log(t),{release:"",suites:[],date:""}}}function js(){const[s,t]=r.useState(!1),[a,n]=r.useState({release:"",suites:[],date:""}),l=fe();r.useEffect(()=>{const i=new AbortController;async function u(){const m=await gs(i.signal);n(m)}return u(),()=>i.abort()},[]);const o=["v0.4.0","v0.3.0","v0.2.2"];return e.jsxs("div",{children:[e.jsx("div",{className:"inline-flex items-center",children:e.jsxs("button",{onClick:()=>t(!s),className:"inline-flex items-center justify-center focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:[e.jsxs("div",{children:[" Release: ",l+" : "+a.date," "]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),s&&e.jsx("div",{className:"absolute mt-2 w-max translate-x-4 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:o.map(i=>e.jsx("div",{className:"block px-4 py-2 text-md text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:e.jsx("a",{href:"https://crfm.stanford.edu/helm/"+i,children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:i})})})}))})})]})}function vs(){return e.jsxs("nav",{className:"navbar h-24 px-8 md:px-12 bg-base-100 max-w[1500]px",children:[e.jsx("div",{children:e.jsxs("div",{className:"dropdown md:hidden mr-4",children:[e.jsx("label",{tabIndex:0,className:"btn btn-ghost hover:bg-transparent btn-lg px-0",children:e.jsx(os,{className:"w-16 h-16"})}),e.jsxs("ul",{tabIndex:0,className:"menu menu-lg dropdown-content mt-3 z-[1] p-2 bg-base-100 shadow",children:[e.jsx("li",{children:e.jsx(k,{to:"leaderboard",children:"Leaderboard"})}),e.jsx("li",{children:e.jsx(k,{to:"models",children:"Models"})}),e.jsx("li",{children:e.jsx(k,{to:"scenarios",children:"Scenarios"})}),e.jsx("li",{children:e.jsx(k,{to:"runs",className:"whitespace-nowrap",children:"Predictions"})}),e.jsx("li",{children:e.jsx(k,{to:"https://github.com/stanford-crfm/helm",children:"GitHub"})})]})]})}),e.jsxs("div",{className:"flex-1 items-center",children:[e.jsx(k,{to:"https://crfm.stanford.edu/",className:"w-24",children:e.jsx("img",{src:fs,className:"object-contain"})}),e.jsx(ps,{})]}),e.jsx("div",{className:"flex-none hidden md:block",children:e.jsxs("ul",{className:"flex flex-row gap-6 px-1",children:[e.jsx("li",{children:e.jsx(k,{to:"leaderboard",children:"Leaderboard"})}),e.jsx("li",{children:e.jsx(k,{to:"models",children:"Models"})}),e.jsx("li",{children:e.jsx(k,{to:"scenarios",children:"Scenarios"})}),e.jsx("li",{children:e.jsx(k,{to:"runs",children:"Predictions"})}),e.jsx("li",{children:e.jsx(k,{to:"https://github.com/stanford-crfm/helm",children:"GitHub"})}),e.jsx("li",{className:"hidden lg:flex",children:e.jsx(js,{})})]})})]})}function bs(){return e.jsxs(e.Fragment,{children:[e.jsx(vs,{}),e.jsx("main",{className:"p-8 pt-0",children:e.jsx("div",{className:"mx-auto max-w-[1500]px",children:e.jsx(Ke,{})})})]})}async function J(s){try{return await(await fetch(P(`${K()}/schema.json`),{signal:s})).json()}catch(t){return console.log(t),{adapter:[],metric_groups:[],metrics:[],models:[],perturbations:[],run_groups:[]}}}function ws({href:s,children:t}){return e.jsx("a",{href:s,className:"link link-primary link-hover",target:"_blank",rel:"noreferrer",children:t})}function V({value:s}){return e.jsx("span",{children:e.jsx(We,{components:{a:ws},children:s})})}function U({title:s,subtitle:t,markdown:a=!1}){return e.jsxs("header",{className:"m-4 ml-0",children:[e.jsx("h1",{className:"text-4xl",children:s}),a&&t!==void 0?e.jsx("h2",{className:"mt-2 text-neutral",children:e.jsx(V,{value:t})}):t!==void 0&&e.jsx("h2",{className:"mt-2 text-neutral",children:t})]})}const ys={open:"green",limited:"yellow",closed:"red"},Ns={open:"Open",limited:"Limited",closed:"Closed"};function Ss({level:s}){return e.jsx(re,{color:ys[s],children:Ns[s]})}function F(){return e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"block mx-auto my-24 loading loading-spinner loading-lg"})})}function Rs(){const[s,t]=r.useState([]);r.useEffect(()=>{const i=new AbortController;async function u(){const m=await J(i.signal);t(m.models)}return u(),()=>i.abort()},[]);const[a,n,l]=s.reduce((i,u)=>{switch(u.access){case"open":i[0]+=1;break;case"limited":i[1]+=1;break;case"closed":i[2]+=1;break}return i},[0,0,0]),o=Object.values(s.reduce((i,u)=>{const m=u.creator_organization;return i[m]===void 0?(i[m]={name:m,models:1},i):(i[m].models+=1,i)},{}));return s.length===0?e.jsx(F,{}):e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Models"}),e.jsxs("div",{className:"overflow-x-auto mt-12",children:[e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Creator"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Access"})]})}),e.jsx("tbody",{children:s.map(i=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-lg",children:i.creator_organization}),e.jsxs("td",{children:[e.jsx("span",{className:"text-xl",children:i.display_name}),e.jsx("br",{}),e.jsx("span",{children:i.name})]}),e.jsx("td",{children:e.jsx(V,{value:i.description})}),e.jsx("td",{children:e.jsx(Ss,{level:i.access})})]}))})]}),e.jsx(U,{title:"Analysis"}),e.jsxs("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-8",children:[e.jsxs(Y,{className:"flex flex-col justify-between",children:[e.jsx(ce,{children:"Models"}),e.jsx(Ae,{className:"text-6xl md:!text-[96px]",children:s.length}),e.jsx(Xe,{values:[a,n,l],colors:["green","yellow","red"]}),e.jsx(Re,{categories:["Open","Limited","Closed"],colors:["green","yellow","red"]})]}),e.jsxs(Y,{className:"md:col-span-2",children:[e.jsx(ce,{children:"Creator Organizations"}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx(Qe,{data:o,category:"models",index:"name",variant:"pie",className:"basis-5/12"}),e.jsx(Re,{categories:o.map(i=>i.name),className:"basis-7/12"})]})]})]})]})]})}function ne({to:s,children:t,inTable:a=!1,title:n=""}){return a?e.jsx(k,{className:"link link-hover",to:s,title:n,children:t}):e.jsx(k,{className:"link link-primary link-hover",to:s,children:t})}function ks(){const[s,t]=r.useState([]);r.useEffect(()=>{const n=new AbortController;async function l(){const o=await J(n.signal);t(o.run_groups.filter(i=>!i.todo&&i.taxonomy&&!i.display_name.includes("CLEVA")))}return l(),()=>n.abort()},[]);const a=Object.values(s.reduce((n,l)=>{var i;const o=((i=l.taxonomy)==null?void 0:i.task)||"Unknown";return n[o]===void 0?(n[o]={name:o,value:1},n):(n[o].value+=1,n)},{}));return s.length===0?e.jsx(F,{}):(console.log(s),e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Scenarios",subtitle:"A scenario represents a use case and consists of a dataset of instances."}),e.jsxs("div",{className:"overflow-x-auto mt-12",children:[e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Scenario"}),e.jsx("th",{children:"Task"}),e.jsx("th",{children:"What"}),e.jsx("th",{children:"Who"}),e.jsx("th",{children:"When"}),e.jsx("th",{children:"Language"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:s.map(n=>{var l,o,i,u,m;return e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx(ne,{to:`/groups/${n.name}`,children:e.jsx("span",{className:"text-lg",children:n.display_name})}),e.jsx("span",{className:"block",children:n.name})]}),e.jsx("td",{children:((l=n.taxonomy)==null?void 0:l.task)||""}),e.jsx("td",{children:((o=n.taxonomy)==null?void 0:o.what)||""}),e.jsx("td",{children:((i=n.taxonomy)==null?void 0:i.who)||""}),e.jsx("td",{children:((u=n.taxonomy)==null?void 0:u.when)||""}),e.jsx("td",{children:((m=n.taxonomy)==null?void 0:m.language)||""}),e.jsx("td",{children:e.jsx(V,{value:n.description})})]})})})]}),e.jsx(U,{title:"Analysis"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs(Y,{className:"flex flex-col",children:[e.jsx(ce,{children:"Total scenarios"}),e.jsx(Ae,{className:"mx-auto my-6 md:mt-16 !text-[72px] md:!text-[96px]",children:s.length})]}),e.jsx(Y,{className:"col-span-3",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-x-12",children:[e.jsx(ke,{data:a.slice(0,Math.floor(a.length/2))}),e.jsx(ke,{data:a.slice(Math.ceil(a.length/2))})]})})]})]})]}))}function Es({title:s,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),s?r.createElement("title",{id:t},s):null,r.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 01.75.75v11.69l3.22-3.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5a.75.75 0 111.06-1.06l3.22 3.22V3a.75.75 0 01.75-.75zm-9 13.5a.75.75 0 01.75.75v2.25a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V16.5a.75.75 0 011.5 0v2.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V16.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const Ms=r.forwardRef(Es),Te=Ms;function Ps({title:s,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),s?r.createElement("title",{id:t},s):null,r.createElement("path",{fillRule:"evenodd",d:"M15 3.75a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0V5.56l-3.97 3.97a.75.75 0 11-1.06-1.06l3.97-3.97h-2.69a.75.75 0 01-.75-.75zm-12 0A.75.75 0 013.75 3h4.5a.75.75 0 010 1.5H5.56l3.97 3.97a.75.75 0 01-1.06 1.06L4.5 5.56v2.69a.75.75 0 01-1.5 0v-4.5zm11.47 11.78a.75.75 0 111.06-1.06l3.97 3.97v-2.69a.75.75 0 011.5 0v4.5a.75.75 0 01-.75.75h-4.5a.75.75 0 010-1.5h2.69l-3.97-3.97zm-4.94-1.06a.75.75 0 010 1.06L5.56 19.5h2.69a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75v-4.5a.75.75 0 011.5 0v2.69l3.97-3.97a.75.75 0 011.06 0z",clipRule:"evenodd"}))}const As=r.forwardRef(Ps),Cs=As;function Ls({title:s,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),s?r.createElement("title",{id:t},s):null,r.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const Ts=r.forwardRef(Ls),ue=Ts;function _s({title:s,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},a),s?r.createElement("title",{id:t},s):null,r.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z",clipRule:"evenodd"}))}const $s=r.forwardRef(_s),Us=$s;function _e(){return P(`${K()}/groups.json`)}async function pe(s){try{return await(await fetch(_e(),{signal:s})).json()}catch(t){return console.log(t),[]}}function X({children:s}){return e.jsx("div",{role:"navigation",className:"tabs flex-nowrap border-b-2 border-gray-2 overflow-x-auto overflow-y-hidden",children:s})}function z({active:s=!1,onClick:t=()=>{},size:a="md",children:n}){return e.jsx("div",{onClick:t,className:`whitespace-nowrap text-${a} mb-[-2px] text-md tab tab-bordered${s?" border-2 border-grey-500 rounded":" border-none"}`,children:n})}function q(s){return Number.isNaN(Number(s))?String(s):String(Math.round(Number(s)*1e3)/1e3)}function te({value:s,title:t}){if(typeof s.value=="string"&&s.value.includes("⚠")&&(s.value=s.value.replace("⚠","")),s.value===void 0)return"-";if(s.run_spec_names){const a=(()=>{if(s.run_spec_names.length==1)return"/runs/"+s.run_spec_names[0];if(s.run_spec_names.length>1){const n="/runs/?q="+s.run_spec_names.map(o=>`^${o}$`).join("|");return encodeURI(n)}})();return a?e.jsx(ne,{to:a,inTable:!0,title:t,children:q(s.value)}):t?e.jsx("a",{title:t,children:q(s.value)}):e.jsx(e.Fragment,{children:q(s.value)})}return s.href?e.jsx(ne,{to:s.href,inTable:!0,title:t,children:q(s.value)}):s.markdown?e.jsx(V,{value:String(s.value)}):t?e.jsx("a",{title:t,children:q(s.value)}):e.jsx(e.Fragment,{children:q(s.value)})}function $e({groupsTables:s,activeGroup:t,ignoreHref:a=!1,sortable:n=!0,sortFirstMetric:l=!0}){const[o,i]=r.useState(l?1:void 0),[u,m]=r.useState({...s[t]}),[j,S]=r.useState(1);r.useEffect(()=>{m({...s[t]})},[t,s]);const y=v=>{let b=j;o===v?b=b*-1:b=1,i(v),S(b),m(M=>{const p={...M};return p.rows.sort((N,d)=>{var T,E;const g=(T=N[v])==null?void 0:T.value,w=(E=d[v])==null?void 0:E.value;return g!==void 0&&w===void 0?-1:w!==void 0&&g===void 0?1:typeof g=="number"&&typeof w=="number"?(g-w)*b:typeof g=="string"&&typeof w=="string"?b===1?g.localeCompare(w):w.localeCompare(g):0}),p})};return r.useEffect(()=>{l&&o&&y(o)},[l,o]),e.jsx("div",{children:e.jsxs("table",{className:"rounded-lg shadow-md table",children:[e.jsx("thead",{children:e.jsx("tr",{children:u.header.map((v,b)=>e.jsx("th",{className:`${b===o?"bg-gray-100 ":"bg-white"} ${b===0?"left-0 z-10":""} whitespace-nowrap sticky top-0`,children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{children:v.value}),n?e.jsx("button",{className:"link",onClick:()=>y(b),children:e.jsx(ue,{className:"w-6 h-6"})}):null]})},`${t}-${b}`))})}),e.jsx("tbody",{children:u.rows.map((v,b)=>e.jsx("tr",{children:v.map((M,p)=>e.jsx("td",{className:`${p==0?"text-lg sticky left-0":""} ${o===p?"bg-gray-100":"bg-white"}`,children:e.jsx(te,{ignoreHref:a&&p===0,value:M})},`${t}-${p}`))},`${t}-${b}`))})]})})}function Ds(){const[s,t]=r.useState(0),[a,n]=r.useState([]),[l,o]=r.useState([]);return r.useEffect(()=>{const i=new AbortController;async function u(){const m=await pe(i.signal);o(m),n(m.map(j=>j.title))}return u(),()=>i.abort()},[]),l.length===0?e.jsx(F,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{title:"Results",subtitle:"Groupings of the processes, methods, and metrics involved in evaluating models, particularly in the context of natural language understanding and question answering.",className:"mb-16"}),e.jsxs("a",{className:"flex link-primary space-between items-center self-end link link-hover block",href:_e(),download:"true",target:"_blank",children:[e.jsx(Te,{className:"w-6 h-6 mr-2"})," JSON"]})]}),e.jsx("div",{children:e.jsx(X,{children:a.map((i,u)=>e.jsx(z,{onClick:()=>t(u),active:s===u,size:"lg",children:i},u))})}),e.jsx("div",{className:"mt-8",children:e.jsx($e,{sortable:!1,groupsTables:l,activeGroup:s})})]})}async function ge(s,t){try{return await(await fetch(P(`${K()}/groups/${s}.json`),{signal:t})).json()}catch(a){return console.log(a),[]}}async function je(s){try{return await(await fetch(P(`${K()}/groups_metadata.json`),{signal:s})).json()}catch(t){return console.log(t),{}}}function Bs(){const{groupName:s}=Me(),[t,a]=r.useState([]),[n,l]=r.useState(),[o,i]=r.useState(!0),[u,m]=r.useState(0);return r.useEffect(()=>{const j=new AbortController;async function S(){if(s===void 0)return;const[y,v]=await Promise.all([ge(s,j.signal),je(j.signal)]);a(y),l(v[s]),i(!1)}return S(),()=>j.abort()},[s]),o||n===void 0?e.jsx(F,{}):t.length===0?e.jsxs(e.Fragment,{children:[e.jsx(U,{title:n.display_name,subtitle:n.description,markdown:!0,className:"mr-8"}),e.jsx("div",{className:"divider"}),e.jsx("p",{className:"text-center mt-8",children:"Group currently has no results."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-row justify-between",children:e.jsx(U,{title:n.display_name,subtitle:n.description,markdown:!0,className:"mr-8 mb-16"})}),e.jsx("div",{className:"overflow-x-auto",children:t.length>1?e.jsx(X,{children:t.map((j,S)=>e.jsx(z,{active:S===u,onClick:()=>m(S),children:j.title},S))}):null}),e.jsx($e,{groupsTables:t,activeGroup:u,ignoreHref:!0})]})}async function Ue(s){try{return await(await fetch(P(`${K()}/run_specs.json`),{signal:s})).json()}catch(t){return console.log(t),[]}}function me({currentPage:s,totalPages:t,onNextPage:a,onPrevPage:n,className:l}){let o="join";return l!==void 0&&(o=`join ${l}`),e.jsxs("div",{className:o,children:[e.jsx("button",{onClick:n,className:"join-item btn",children:"«"}),e.jsxs("button",{className:"join-item btn",children:["Page ",s," of ",t]}),e.jsx("button",{onClick:a,className:"join-item btn",children:"»"})]})}const le=100;function Os(){const[s,t]=Pe(),[a,n]=r.useState([]),[l,o]=r.useState(Number(s.get("page")||1)),[i,u]=r.useState(1),[m,j]=r.useState([]),[S,y]=r.useState(!0),[v,b]=r.useState(s.get("q")||"");r.useEffect(()=>{const d=new AbortController;async function g(){const w=await Ue(d.signal);n(w),M(v,w)}return g(),()=>d.abort()},[v]),r.useEffect(()=>{M(v,a)},[a,v]);function M(d,g){const w=S?new RegExp(d):null,T=g.filter(E=>w?w.test(E.name):E.name.includes(d));j(T),u(Math.ceil(T.length/le))}const p=d=>{d.preventDefault();const w=d.target.q.value;b(w),t({q:w,page:"1"}),M(w,a)},N=m.slice((l-1)*le,l*le);return a.length===0?e.jsx(F,{}):e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Predictions",subtitle:"All benchmark predictions"}),e.jsxs("form",{className:"flex mb-8",onSubmit:p,children:[e.jsxs("div",{className:"form-control",children:[e.jsx("input",{type:"text",name:"q",placeholder:"Search",className:"input input-bordered",value:v,onChange:d=>b(d.target.value)}),e.jsxs("label",{className:"label",children:[e.jsxs("span",{className:"label-text-alt flex item-center",children:[e.jsx("input",{type:"checkbox",className:"toggle toggle-xs",checked:S,onChange:()=>y(!S)}),e.jsx("span",{className:"ml-2",children:"Regex"})]}),e.jsx("span",{className:"label-text-alt",children:`${m.length} results`})]})]}),e.jsx("div",{className:"form-control ml-4",children:e.jsx("button",{className:"btn",children:e.jsx(Us,{className:"w-6 h-6"})})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Run"}),e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Groups"}),e.jsx("th",{children:"Adapter method"}),e.jsx("th",{children:"Subject / Task"})]})}),e.jsx("tbody",{children:N.map((d,g)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(ne,{to:`/runs/${d.name}`,children:d.name})}),e.jsx("td",{children:d.adapter_spec.model}),e.jsx("td",{children:d.groups.join(", ")}),e.jsx("td",{children:d.adapter_spec.method}),e.jsx("td",{children:d.scenario_spec.args.subject||d.scenario_spec.args.task||"-"})]},`${d.name}-${g}`))})]})}),i>0?e.jsx(me,{className:"flex justify-center my-8",onNextPage:()=>{const d=Math.min(l+1,i);o(d),s.set("page",String(d)),t(s)},onPrevPage:()=>{const d=Math.max(l-1,1);o(d),s.set("page",String(d)),t(s)},currentPage:l,totalPages:i}):e.jsx("div",{className:"my-8 text-center",children:"No results"})]})}function H(){return String(window.SUITE)}async function Is(s,t,a){try{return await(await fetch(P(`/runs/${a||H()}/${s}/instances.json`),{signal:t})).json()}catch(n){return console.log(n),[]}}async function Fs(s,t,a){try{return await(await fetch(P(`/runs/${a||H()}/${s}/stats.json`),{signal:t})).json()}catch(n){return console.log(n),[]}}async function zs(s,t,a){try{return await(await fetch(P(`/runs/${a||H()}/${s}/display_requests.json`),{signal:t})).json()}catch(n){return console.log(n),[]}}async function Hs(s,t,a){try{return await(await fetch(P(`/runs/${a||H()}/${s}/display_predictions.json`),{signal:t})).json()}catch(n){return console.log(n),[]}}async function Gs(s,t,a){try{return await(await fetch(P(`/runs/${a||H()}/${s}/scenario.json`),{signal:t})).json()}catch(n){console.log(n);return}}function qs(s,t){return P(`/runs/${t||H()}/${s}/run_spec.json`)}function Vs(s,t){return P(`/runs/${t||H()}/${s}/scenario_state.json`)}function ie({value:s}){return e.jsx(re,{icon:us,color:"green",children:s})}function oe({value:s}){return e.jsx(re,{icon:xs,color:"red",children:s})}function Ks({stats:s}){if(s.quasi_exact_match!==void 0)return s.quasi_exact_match?e.jsx(ie,{value:`quasi exact match: ${s.quasi_exact_match}`}):e.jsx(oe,{value:`quasi exact match: ${s.quasi_exact_match}`});if(s.toxic_frac!==void 0)return s.toxic_frac>0?e.jsx(oe,{value:`toxic frac: ${s.toxic_frac}`}):e.jsx(ie,{value:`toxic frac: ${s.toxic_frac}`});if(s.exact_match!==void 0)return s.exact_match>0?e.jsx(ie,{value:`exact match: ${s.exact_match}`}):e.jsx(oe,{value:`exact match: ${s.exact_match}`})}function ve({value:s}){const[t,a]=r.useState(!1),[n,l]=r.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onMouseOver:()=>a(!0),onMouseOut:()=>a(!1),className:"relative",children:[e.jsx("div",{className:"bg-base-200 p-2 block overflow-auto w-full max-h-72 mb-2 whitespace-pre-wrap",children:s}),t?e.jsx("button",{className:"bg-white absolute p-2 leading-none height-fit min-h-none right-1 bottom-1 shadow",onClick:()=>l(!0),children:e.jsx(Cs,{fill:"black",color:"black",className:"text w-4 h-4"})}):null]}),e.jsx("dialog",{open:n,className:"modal p-16 bg-opacity-80 bg-white",onClick:()=>l(!1),children:e.jsx("div",{className:"modal-box max-w-none p-4 whitespace-pre-wrap bg-base-200",children:s})})]})}function Ws(s){return Array.isArray(s)?s.length===0?"":`[${s.map(t=>String(t).replace(/\n/,"\\n")).join(", ")}]`:s}function Zs({request:s}){return e.jsxs("div",{children:[e.jsx("h3",{className:"block text text-gray-400",children:"Prompt"}),e.jsx(ve,{value:s.request.prompt}),e.jsx(he,{children:Object.keys(s.request).filter(t=>t!=="prompt").map((t,a)=>e.jsxs(xe,{children:[e.jsxs("span",{children:[t,":"]}),e.jsx("span",{children:Ws(s.request[t])})]},a+1))})]})}function Ys({predictions:s,requests:t}){const[a,n]=r.useState(!1),[l,o]=r.useState(!0),i=()=>{n(!a),o(!l)};return s.length<1?null:e.jsx("div",{children:e.jsx("div",{className:"flex flex-wrap justify-start items-start",children:s.map((u,m)=>e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mt-2 w-full",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"mr-4",children:`Prediction [trial ${u.train_trial_index}]`}),e.jsx(Ks,{stats:u.stats})]}),e.jsx(ve,{value:u.predicted_text})]}),e.jsx("div",{className:"my-4",children:e.jsxs(X,{children:[e.jsx(z,{onClick:i,active:l,children:"Details"}),e.jsx(z,{onClick:i,active:a,children:"Requests"})]})}),l?e.jsx(he,{children:Object.keys(u.stats).map((j,S)=>e.jsxs(xe,{children:[e.jsxs("span",{children:[j,":"]}),e.jsx("span",{children:u.stats[j]})]},S))}):null,e.jsx("div",{className:"overflow-auto",children:a?e.jsx(Zs,{request:t[m]}):null})]},m))})})}function Js({instance:s,requests:t,predictions:a}){return e.jsxs("div",{className:"border p-4",children:[e.jsx("h3",{className:"text-xl mb-4",children:`Instance id: ${s.id} [split:  ${s.split}]`}),e.jsx("span",{className:"text-gray-400",children:"Input"}),e.jsx(ve,{value:s.input.text}),a&&t?e.jsx(Ys,{predictions:a,requests:t}):null]})}function Xs(s){return String(s).split("_").map(t=>t[0].toUpperCase()+t.slice(1)).join(" ")}function Qs({stat:s}){const t=`${s.name.split!==void 0?` on ${s.name.split}`:""}${s.name.sub_split!==void 0?`/${s.name.sub_split}`:""}${s.name.perturbation!==void 0?` with ${s.name.perturbation.name}`:" original"}`;return e.jsxs("span",{children:[e.jsx("strong",{children:Xs(s.name.name)}),t]})}async function et(s){try{return await(await fetch(P(`/releases/${fe()}/runs_to_run_suites.json`),{signal:s})).json()}catch(t){return console.log(t),{}}}function st(s,t){return fe()?s[t]:window.SUITE}const ee=10,se=50;function tt(){const{runName:s}=Me(),[t,a]=Pe(),[n,l]=r.useState(0),[o,i]=r.useState(),[u,m]=r.useState(),[j,S]=r.useState([]),[y,v]=r.useState([]),[b,M]=r.useState(),[p,N]=r.useState(),[d,g]=r.useState(1),[w,T]=r.useState(1),[E,I]=r.useState(1),[Q,W]=r.useState(1),[c,h]=r.useState(),[f,R]=r.useState(),[_,Z]=r.useState("");if(r.useEffect(()=>{const x=new AbortController;async function $(){const A=x.signal;if(s===void 0)return()=>x.abort();const Be=await et(A),G=st(Be,s);m(G);const[be,we,ye,Oe,Ie,Fe]=await Promise.all([Ue(A),Is(s,A,G),Fs(s,A,G),Gs(s,A,G),Hs(s,A,G),zs(s,A,G)]);i(be.find(C=>C.name===s)),S(we);const Ne=Math.ceil(we.length/ee),ze=Number(t.get("instancesPage")||1);T(Ne),g(Math.max(Math.min(ze,Ne),1)),v(ye),R(Oe);const Se=Math.floor(ye.length/se),He=Number(t.get("metricsPage")||1);W(Se),I(Math.max(Math.min(He,Se),1)),M(Ie.reduce((C,L)=>(C[L.instance_id]===void 0&&(C[L.instance_id]=[]),C[L.instance_id].push(L),C),{})),N(Fe.reduce((C,L)=>(C[L.instance_id]===void 0&&(C[L.instance_id]=[]),C[L.instance_id].push(L),C),{}));const Ge=await J(A);h(Ge.models.find(C=>{var L;return C.name===((L=be.find(qe=>qe.name===s))==null?void 0:L.adapter_spec.model)}))}return $(),()=>x.abort()},[s,t]),o===void 0||b===void 0||p===void 0||f===void 0)return e.jsx(F,{});const D=j.slice((d-1)*ee,(d-1)*ee+ee),B=y.slice((E-1)*se,(E-1)*se+se);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between gap-8 mb-12",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl",children:f.name}),e.jsx("h3",{className:"text-2xl",children:e.jsx(V,{value:f.description})}),e.jsx("h1",{className:"text mt-2",children:o.adapter_spec.model}),e.jsx("h3",{className:"text-sm text-gray-500",children:e.jsx(V,{value:(c==null?void 0:c.description)||""})}),e.jsx("div",{className:"mt-2 flex gap-2",children:f.tags.map(x=>e.jsx(re,{size:"xs",color:"gray",children:e.jsx("span",{className:"text text-xs",children:x})}))})]})}),e.jsxs(Y,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg mb-1",children:"Adapter Specification"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Te,{className:"w-6 h-6 mr-1 text text-primary"}),e.jsx("a",{className:"link link-primary link-hover",href:qs(o.name,u),download:"true",target:"_blank",children:"Spec JSON"}),e.jsx("a",{className:"link link-primary link-hover",href:Vs(o.name,u),download:"true",target:"_blank",children:"Full JSON"})]})]}),e.jsx("div",{children:e.jsx(he,{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-x-8",children:Object.entries(o.adapter_spec).map(([x,$],A)=>e.jsxs(xe,{className:A<3?"!border-0":"",children:[e.jsx("strong",{className:"mr-1",children:`${x}: `}),e.jsx("span",{className:"overflow-x-auto",children:$})]}))})})]}),e.jsx("div",{className:"mt-16 mb-8",children:e.jsxs(X,{children:[e.jsx(z,{size:"lg",active:n===0,onClick:()=>l(0),children:"Instances + Predictions"}),e.jsx(z,{size:"lg",active:n===1,onClick:()=>l(1),children:"All metrics"})]})}),n===0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-8",children:D.map((x,$)=>e.jsx(Js,{instance:x,requests:p[x.id],predictions:b[x.id]},`${x.id}-${$}`))}),e.jsx(me,{className:"flex justify-center my-8",onNextPage:()=>{const x=Math.min(d+1,w);g(x),t.set("instancesPage",String(x)),a(t)},onPrevPage:()=>{const x=Math.max(d-1,1);g(x),t.set("instancesPage",String(x)),a(t)},currentPage:d,totalPages:w})]}):e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-start my-4",children:e.jsx("input",{type:"text",className:"input input-bordered w-full max-w-xs",placeholder:"Search for a metric",onChange:x=>Z(x.target.value)})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:Object.keys(y[0]).map(x=>e.jsx("th",{children:x},x))})}),e.jsx("tbody",{children:B.filter(x=>!_||x.name.name.toLowerCase().includes(_.toLowerCase())).map(x=>e.jsx("tr",{children:Object.entries(x).map(([$,A])=>$==="name"?e.jsxs("td",{children:[e.jsx(Qs,{stat:x}),e.jsx("div",{className:"text-sm text-gray-500",children:A.name})]},$):e.jsx("td",{children:A}))}))})]})}),e.jsx(me,{className:"flex justify-center my-8",onNextPage:()=>{const x=Math.min(E+1,Q);I(x),t.set("metricsPage",String(x)),a(t)},onPrevPage:()=>{const x=Math.max(E-1,1);I(x),t.set("metricsPage",String(x)),a(t)},currentPage:E,totalPages:Q})]})]})}function De({groupsTables:s,activeGroup:t,ignoreHref:a=!1,sortable:n=!0,sortFirstMetric:l=!0,filtered:o=!1,filteredCols:i=[],modelsToFilter:u=[],numModelsToAutoFilter:m=0}){const[j,S]=r.useState(l?1:void 0),[y,v]=r.useState({...s[t]}),[b,M]=r.useState(1),[p,N]=r.useState(u),d=c=>c.value==="Model/adapter"?"Model":c.value,[g,w]=r.useState(void 0);r.useEffect(()=>{const c=new AbortController;async function h(){const f=await J(c.signal);w(f)}return h(),()=>c.abort()},[]);const T=c=>{if(g){const h=g.models.find(f=>f.display_name===c);if(h){let f=h.description;return f.includes("/")&&(f=f.replace("/","_")),f}}return""},E=c=>{if(g){const h=g.models.find(f=>f.display_name===c);if(h){let f=h.name;return f.includes("/")&&(f=f.replace("/","_")),f}}return""};function I(c){const h=c.lastIndexOf(" - ");return h===-1?c:c.substring(0,h)+"*"+c.substring(h+1)}const Q=c=>{const f=I(c).split("*")[0].trim();if(g){const R=g.run_groups.find(_=>_.display_name===f||_.short_display_name===f);if(R)return R.name}return""};r.useEffect(()=>{if(v({...s[t]}),m){const R=s[0].rows.sort((_,Z)=>Number(Z[1].value)-Number(_[1].value)).slice(0,m).map(_=>String(_[0].value));N(R)}},[t,s,m]);const W=c=>{let h=b;j===c?h=h*-1:h=1,S(c),M(h),v(f=>{const R={...f};return R.rows.sort((_,Z)=>{var x,$;const D=(x=_[c])==null?void 0:x.value,B=($=Z[c])==null?void 0:$.value;return D!==void 0&&B===void 0?-1:B!==void 0&&D===void 0?1:typeof D=="number"&&typeof B=="number"?(D-B)*h:typeof D=="string"&&typeof B=="string"?h===1?D.localeCompare(B):B.localeCompare(D):0}),R})};return r.useEffect(()=>{l&&j&&W(j)},[l,j]),e.jsx(e.Fragment,{children:o?e.jsx("div",{className:"rounded-2xl overflow-hidden border-2 bg-white p-1 mx-2 my-0",style:{overflow:"auto"},children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{children:e.jsx("tr",{children:y.header.filter((c,h)=>i.length===0||i.includes(h)).map((c,h)=>e.jsx("th",{className:`${h===j?"bg-gray-100":""} whitespace-nowrap px-4`,title:c.description?c.description:"",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{children:d(c)}),n?e.jsx("button",{className:"link",onClick:()=>W(h),children:e.jsx(ue,{className:"w-6 h-6"})}):null]})},`${t}-${h}`))})}),e.jsx("tbody",{children:y.rows.filter(c=>p.includes(String(c[0].value))).map((c,h)=>e.jsx("tr",{className:`${h%2===0?"bg-gray-50":""}`,children:c.filter((f,R)=>i.length===0||i.includes(R)).map((f,R)=>e.jsx("td",{className:`${R===0?"text-lg":""}`,children:e.jsx(te,{ignoreHref:a&&R===0,value:f})},`${t}-${R}`))},`${t}-${h}`))})]})})}):e.jsx("div",{children:e.jsx("div",{children:e.jsxs("table",{className:"rounded-lg shadow-md table",children:[e.jsx("thead",{children:e.jsx("tr",{children:y.header.map((c,h)=>e.jsx("th",{className:`${h===j?"bg-gray-100":"bg-white"} ${h===0?"left-0 z-10":""} whitespace-nowrap px-4 sticky top-0`,title:c.description?c.description:"",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{children:d(c)}),n?e.jsx("button",{className:"link",onClick:()=>W(h),children:e.jsx(ue,{className:"w-6 h-6"})}):null]})},`${t}-${h}`))})}),e.jsx("tbody",{children:y.rows.map((c,h)=>e.jsx("tr",{children:c.map((f,R)=>e.jsx("td",{className:`${R===0?"text-lg sticky left-0":""} ${h%2===0?"bg-gray-50":"bg-white"}`,children:R==1?e.jsx(te,{value:{...f,href:"/runs/?q="+E(String(c[0].value))},title:`Click value to see all predictions for: ${E(String(c[0].value))}`}):e.jsx(te,{value:{...f},title:String(c[0].value)===f.value?T(String(c[0].value)):`Click value to see predictions for ${Q(d(y.header[R]))}: ${E(String(c[0].value))}`})},`${t}-${R}`))},`${t}-${h}`))})]})})})})}function nt(){const s={title:"Core Scenarios",name:"core_scenarios"},[t,a]=r.useState([]),[n,l]=r.useState(s),[o,i]=r.useState([]),[u,m]=r.useState(),[j,S]=r.useState(!0),[y,v]=r.useState(0);function b(p,N){console.log(p,N);const d=p.find(g=>g.title===N);return d??s}function M(p,N){l(b(p,N))}return r.useEffect(()=>{const p=new AbortController;async function N(){if(n.name===void 0)return;const d=await pe(p.signal),g=[];d.forEach(E=>{E.rows.forEach(I=>{g.push({title:String(I[0].value),name:I[0].href.replace("?group=","")})})}),a(g);const[w,T]=await Promise.all([ge(n.name,p.signal),je(p.signal)]);i(w),m(T[n.name]),S(!1)}return N(),()=>p.abort()},[n]),j||u===void 0?e.jsx(F,{}):o.length===0?e.jsxs(e.Fragment,{children:[e.jsx(U,{title:u.display_name,subtitle:u.description,markdown:!0}),e.jsx("div",{className:"divider"}),e.jsx("p",{className:"text-center mt-8",children:"Group currently has no results."})]}):e.jsx(e.Fragment,{children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx(U,{title:"HELM Leaderboard",subtitle:"The HELM leaderboard shows how the various models perform across different scenarios and metrics.",markdown:!0}),e.jsxs("div",{className:"w-64 pt-8",children:[e.jsx("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700",children:"Select a group:"}),e.jsx("select",{id:"group",name:"group",value:n.title,onChange:p=>M(t,p.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring focus:border-blue-300 rounded-md",children:t.map((p,N)=>e.jsx("option",{value:p.title,children:p.title},N))})]})]}),e.jsx("div",{className:"overflow-x-auto",children:o.length>1?e.jsx(X,{children:o.map((p,N)=>e.jsx(z,{active:N===y,onClick:()=>v(N),children:p.title},N))}):null}),e.jsx(De,{groupsTables:o,activeGroup:y,ignoreHref:!0})]})})}function rt({models:s}){return e.jsxs("section",{children:[e.jsxs("h3",{className:"text-3xl",children:[s.length," models"]}),e.jsx("ul",{children:s.map((t,a)=>t.todo?e.jsxs("li",{className:"text-slate-300 mt-1",children:[t.creator_organization," / ",t.display_name]},a):e.jsx(k,{to:"models",children:e.jsxs("li",{className:"text-black mt-1",children:[t.creator_organization," / ",t.display_name]},a)}))})]})}function at({runGroups:s}){const t=new Map(s.filter(l=>l.metric_groups!==void 0&&(l.subgroups===void 0||l.subgroups.length===0)).map(l=>[l.name,l])),a=new Set,n=[];return s.forEach(l=>{const o=l.subgroups?l.subgroups:[],i=[];o.forEach(u=>{const m=t.get(u);m&&(i.push(m),a.add(m.name))}),i.length>0&&n.push([l,i])}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-3xl",children:[a.size," scenarios"]}),e.jsx("ul",{children:n.map(([l,o])=>e.jsxs("li",{className:"my-3",children:[e.jsx(k,{className:"text-black",to:"groups/"+l.name,children:e.jsx("h2",{children:l.display_name})}),e.jsx("ul",{className:"list-disc list-inside",children:o.map(i=>i.todo?e.jsx("li",{className:`${i.todo?"ml-4 text-slate-300":"ml-4"}`,children:i.display_name},i.name):e.jsx(k,{className:"text-black",to:"groups/"+i.name,children:e.jsx("li",{className:`${i.todo?"ml-4 text-slate-300":"ml-4"}`,children:i.display_name},i.name)}))})]},l.name))})]})}const lt=""+new URL("helmhero-28e90f4d.png",import.meta.url).href;function it(){const t={title:"Core Scenarios",name:"core_scenarios"},[a,n]=r.useState([]),[l,o]=r.useState([]),[i,u]=r.useState(),[m,j]=r.useState(!0),S=0;return console.log(a),r.useEffect(()=>{const y=new AbortController;async function v(){const b=await pe(y.signal),M=[];b.forEach(d=>{d.rows.forEach(g=>{M.push({title:String(g[0].value),name:g[0].href.replace("?group=","")})})}),n(M);const[p,N]=await Promise.all([ge(t.name,y.signal),je(y.signal)]);o(p),u(N[t.name]),j(!1)}return v(),()=>y.abort()},[t.name]),m||i===void 0?e.jsx(F,{}):l.length===0?e.jsxs(e.Fragment,{children:[e.jsx(U,{title:i.display_name,subtitle:i.description,markdown:!0}),e.jsx("div",{className:"divider"}),e.jsx("p",{className:"text-center mt-8",children:"Group currently has no results."})]}):e.jsx(e.Fragment,{children:e.jsx(e.Fragment,{children:e.jsx(De,{groupsTables:l,activeGroup:S,ignoreHref:!0,filtered:!0,numModelsToAutoFilter:6,filteredCols:[0,1]})})})}function ot(){return e.jsxs("div",{className:"flex flex-col px-4 sm:px-6 py-100 sm:py-10 sm:mb-96 md:mb-96 lg:mb-0 xl:mb-0 2xl:mb-0",children:[e.jsx("div",{className:"flex flex-col text-center mb-10 justify-start",children:e.jsx("h1",{className:"text-3xl sm:text-4xl mb-3 sm:mb-4 mx-2 mt-2",children:e.jsx("strong",{children:"A holistic framework for evaluating foundation models."})})}),e.jsxs("div",{className:"flex flex-col md:flex-col lg:flex-row lg:justify-center",style:{height:"525px",transform:"scale(0.9)"},children:[e.jsx("div",{className:"w-full lg:w-1/2 flex justify-center mb-4 lg:mb-0 h-full py-10",children:e.jsx("img",{src:lt,alt:"HELM Hero",className:"object-cover h-full",style:{maxWidth:"100%"}})}),e.jsx("div",{className:"w-full lg:w-1/2 flex justify-center h-full py-10",children:e.jsxs("div",{className:"py-2 pb-6 rounded-3xl bg-gray-100 h-full",style:{maxWidth:"100%"},children:[e.jsx(it,{}),e.jsx("div",{className:"flex justify-end",children:e.jsx(k,{to:"leaderboard",children:e.jsx("button",{className:"px-4 mx-3 mt-1 btn bg-white rounded-md",children:e.jsx("span",{children:"See More"})})})})]})})]})]})}const ct=""+new URL("ai21-0eb91ec3.png",import.meta.url).href,dt=""+new URL("aleph-alpha-7ce10034.png",import.meta.url).href,ut=""+new URL("anthropic-70d8bc39.png",import.meta.url).href,mt=""+new URL("bigscience-7f0400c0.png",import.meta.url).href,ht=""+new URL("cohere-3550c6cb.png",import.meta.url).href,xt=""+new URL("eleutherai-b9451114.png",import.meta.url).href,ft=""+new URL("google-06d997ad.png",import.meta.url).href,pt=""+new URL("meta-5580e9f1.png",import.meta.url).href,gt=""+new URL("microsoft-f5ee5016.png",import.meta.url).href,jt=""+new URL("mistral-18e1be23.png",import.meta.url).href,vt=""+new URL("nvidia-86fa75c1.png",import.meta.url).href,bt=""+new URL("openai-3f8653e4.png",import.meta.url).href,wt=""+new URL("tii-24de195c.png",import.meta.url).href,yt=""+new URL("together-a665a35b.png",import.meta.url).href,Nt=""+new URL("tsinghua-keg-97d4b395.png",import.meta.url).href,St="data:image/png;base64,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",Rt=""+new URL("yandex-38e09d70.png",import.meta.url).href,kt=""+new URL("01-694cb9b7.png",import.meta.url).href,Et=[ct,dt,ut,mt,ht,xt,ft,pt,gt,jt,vt,bt,wt,yt,Nt,St,Rt,kt];function Mt(){const[s,t]=r.useState(void 0);return r.useEffect(()=>{const a=new AbortController;async function n(){const l=await J(a.signal);t(l)}return n(),()=>a.abort()},[]),s?e.jsxs(e.Fragment,{children:[e.jsx(ot,{}),e.jsxs("div",{className:"mx-auto text-lg px-16",children:[e.jsxs("div",{className:"container mb-12 mx-auto text-lg px-16",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center mt-10 mb-10 flex gap-2 sm:gap-8 md:gap-32",children:[" ",e.jsx("h1",{className:"text-4xl  mx-4 mt-40",children:e.jsx("strong",{children:"Our Partners"})})]}),e.jsx("ol",{className:"my-8 flex flex-col gap-32",children:e.jsx("li",{children:e.jsx("div",{className:"flex flex-wrap justify-center max-w-[1100px] mx-auto w-auto",children:Et.map((a,n)=>e.jsx("div",{className:"w-24 h-24 flex items-center m-6",children:e.jsx("img",{src:a,alt:"Logo",className:"mx-auto block",sizes:"100vw"})},n))})})})]}),e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsx(rt,{models:s.models}),e.jsx(at,{runGroups:s.run_groups})]})})]})]}):null}function Pt(){return e.jsx(Ze,{children:e.jsx(Ye,{children:e.jsxs(O,{path:"/",element:e.jsx(bs,{}),children:[e.jsx(O,{index:!0,element:e.jsx(Mt,{})}),e.jsx(O,{path:"leaderboard",element:e.jsx(nt,{})}),e.jsx(O,{path:"models",element:e.jsx(Rs,{})}),e.jsx(O,{path:"scenarios",element:e.jsx(ks,{})}),e.jsx(O,{path:"groups",element:e.jsx(Ds,{})}),e.jsx(O,{path:"groups/:groupName",element:e.jsx(Bs,{})}),e.jsx(O,{path:"runs",element:e.jsx(Os,{})}),e.jsx(O,{path:"runs/:runName",element:e.jsx(tt,{})})]})})})}de.createRoot(document.getElementById("root")).render(e.jsx(Je.StrictMode,{children:e.jsx(Pt,{})}));
