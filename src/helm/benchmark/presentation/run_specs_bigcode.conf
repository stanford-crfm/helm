# `RunSpec`s for the BigCode Project (https://www.bigcode-project.org).
# We evaluate the code models on both code generation and natural reasoning tasks.

# TODOs:
# - Add biomedical tasks from `med` branch.
# - Add MathQA: https://math-qa.github.io/math-QA/index.html

entries: [

  ## Synthetic reasoning tasks

  {description: "synthetic_reasoning:model=code,mode=pattern_match", priority: 2}
  {description: "synthetic_reasoning:model=code,mode=variable_substitution", priority: 2}
  {description: "synthetic_reasoning:model=code,mode=induction", priority: 2}

  {description: "synthetic_reasoning_natural:model=code,difficulty=easy", priority: 2}
  {description: "synthetic_reasoning_natural:model=code,difficulty=hard", priority: 2}

  {description: "babi_qa:model=code,task=all", priority: 2}
  {description: "babi_qa:model=code,task=1", priority: 3}
  {description: "babi_qa:model=code,task=2", priority: 4}
  {description: "babi_qa:model=code,task=3", priority: 2}
  {description: "babi_qa:model=code,task=4", priority: 3}
  {description: "babi_qa:model=code,task=5", priority: 4}
  {description: "babi_qa:model=code,task=6", priority: 4}
  {description: "babi_qa:model=code,task=7", priority: 4}
  {description: "babi_qa:model=code,task=8", priority: 4}
  {description: "babi_qa:model=code,task=9", priority: 4}
  {description: "babi_qa:model=code,task=10", priority: 4}
  {description: "babi_qa:model=code,task=11", priority: 4}
  {description: "babi_qa:model=code,task=12", priority: 4}
  {description: "babi_qa:model=code,task=13", priority: 4}
  {description: "babi_qa:model=code,task=14", priority: 4}
  {description: "babi_qa:model=code,task=15", priority: 2}
  {description: "babi_qa:model=code,task=16", priority: 4}
  {description: "babi_qa:model=code,task=17", priority: 4}
  {description: "babi_qa:model=code,task=18", priority: 4}
  {description: "babi_qa:model=code,task=19", priority: 2}
  {description: "babi_qa:model=code,task=20", priority: 4}

  {description: "dyck_language:model=code,num_parenthesis_pairs=2", priority: 4}
  {description: "dyck_language:model=code,num_parenthesis_pairs=3", priority: 2}
  {description: "dyck_language:model=code,num_parenthesis_pairs=4", priority: 4}

  ## Real reasoning tasks

  {description: "math:model=code,subject=number_theory,level=1,use_official_examples=True", priority: 2}
  {description: "math:model=code,subject=intermediate_algebra,level=1,use_official_examples=True", priority: 2}
  {description: "math:model=code,subject=algebra,level=1,use_official_examples=True", priority: 2}
  {description: "math:model=code,subject=prealgebra,level=1,use_official_examples=True", priority: 2}
  {description: "math:model=code,subject=geometry,level=1,use_official_examples=True", priority: 2}
  {description: "math:model=code,subject=counting_and_probability,level=1,use_official_examples=True", priority: 2}
  {description: "math:model=code,subject=precalculus,level=1,use_official_examples=True", priority: 2}

  {description: "math:model=code,subject=number_theory,level=2,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=intermediate_algebra,level=2,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=algebra,level=2,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=prealgebra,level=2,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=geometry,level=2,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=counting_and_probability,level=2,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=precalculus,level=2,use_official_examples=True", priority: 4}

  {description: "math:model=code,subject=number_theory,level=3,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=intermediate_algebra,level=3,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=algebra,level=3,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=prealgebra,level=3,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=geometry,level=3,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=counting_and_probability,level=3,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=precalculus,level=3,use_official_examples=True", priority: 3}

  {description: "math:model=code,subject=number_theory,level=4,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=intermediate_algebra,level=4,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=algebra,level=4,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=prealgebra,level=4,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=geometry,level=4,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=counting_and_probability,level=4,use_official_examples=True", priority: 4}
  {description: "math:model=code,subject=precalculus,level=4,use_official_examples=True", priority: 4}

  {description: "math:model=code,subject=number_theory,level=5,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=intermediate_algebra,level=5,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=algebra,level=5,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=prealgebra,level=5,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=geometry,level=5,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=counting_and_probability,level=5,use_official_examples=True", priority: 3}
  {description: "math:model=code,subject=precalculus,level=5,use_official_examples=True", priority: 3}

  # With chain-of-thought prompting:
  {description: "math:model=code,subject=number_theory,level=1,use_chain_of_thought=True", priority: 2}
  {description: "math:model=code,subject=intermediate_algebra,level=1,use_chain_of_thought=True", priority: 2}
  {description: "math:model=code,subject=algebra,level=1,use_chain_of_thought=True", priority: 2}
  {description: "math:model=code,subject=prealgebra,level=1,use_chain_of_thought=True", priority: 2}
  {description: "math:model=code,subject=geometry,level=1,use_chain_of_thought=True", priority: 2}
  {description: "math:model=code,subject=counting_and_probability,level=1,use_chain_of_thought=True", priority: 2}
  {description: "math:model=code,subject=precalculus,level=1,use_chain_of_thought=True", priority: 2}

  {description: "math:model=code,subject=number_theory,level=2,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=intermediate_algebra,level=2,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=algebra,level=2,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=prealgebra,level=2,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=geometry,level=2,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=counting_and_probability,level=2,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=precalculus,level=2,use_chain_of_thought=True", priority: 4}

  {description: "math:model=code,subject=number_theory,level=3,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=intermediate_algebra,level=3,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=algebra,level=3,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=prealgebra,level=3,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=geometry,level=3,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=counting_and_probability,level=3,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=precalculus,level=3,use_chain_of_thought=True", priority: 3}

  {description: "math:model=code,subject=number_theory,level=4,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=intermediate_algebra,level=4,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=algebra,level=4,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=prealgebra,level=4,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=geometry,level=4,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=counting_and_probability,level=4,use_chain_of_thought=True", priority: 4}
  {description: "math:model=code,subject=precalculus,level=4,use_chain_of_thought=True", priority: 4}

  {description: "math:model=code,subject=number_theory,level=5,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=intermediate_algebra,level=5,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=algebra,level=5,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=prealgebra,level=5,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=geometry,level=5,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=counting_and_probability,level=5,use_chain_of_thought=True", priority: 3}
  {description: "math:model=code,subject=precalculus,level=5,use_chain_of_thought=True", priority: 3}

  {description: "gsm:model=code", priority: 2}

  ## Legal reasoning
  {description: "legal_support:model=code", priority: 2}

  {description: "lsat_qa:model=code,task=all", priority: 2}
  {description: "lsat_qa:model=code,task=grouping", priority: 3}
  {description: "lsat_qa:model=code,task=ordering", priority: 3}
  {description: "lsat_qa:model=code,task=assignment", priority: 3}
  {description: "lsat_qa:model=code,task=miscellaneous", priority: 3}

  ## Code
  {description: "code:model=code,dataset=humaneval", priority: 1}
  {description: "code:model=code,dataset=apps,timeout=3", priority: 1}

  ## Biomedical
  # Code models were shown to perform well on medical QA tasks: https://arxiv.org/abs/2207.08143


  ## Copyright
  {description: "copyright:model=code,datatag=prompt_num_line_1-min_lines_20.json", priority: 2}
  {description: "copyright:model=code,datatag=prompt_num_line_5-min_lines_20.json", priority: 3}
  {description: "copyright:model=code,datatag=prompt_num_line_10-min_lines_20.json", priority: 2}
]
