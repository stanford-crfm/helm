from dataclasses import dataclass
from enum import Enum
from typing import Any, Dict, Optional

from helm.benchmark.scenarios.scenario import Instance, Scenario

UNKNOWN_OPTION: str = "unknown"


class Language(Enum):
    AB = "abkhazian"
    AA = "afar"
    AF = "afrikaans"
    AK = "akan"
    SQ = "albanian"
    AM = "amharic"
    AR = "arabic"
    AN = "aragonese"
    HY = "armenian"
    AS = "assamese"
    AV = "avaric"
    AE = "avestan"
    AY = "aymara"
    AZ = "azerbaijani"
    BM = "bambara"
    BA = "bashkir"
    EU = "basque"
    BE = "belarusian"
    BN = "bengali"
    BH = "bihari"
    BI = "bislama"
    BS = "bosnian"
    BR = "breton"
    BG = "bulgarian"
    MY = "burmese"
    CA = "catalan"
    CH = "chamorro"
    CE = "chechen"
    ZH = "chinese"
    CU = "church slavic"
    CV = "chuvash"
    KW = "cornish"
    CO = "corsican"
    CR = "cree"
    HR = "croatian"
    CS = "czech"
    DA = "danish"
    DV = "divehi"
    NL = "dutch"
    DZ = "dzongkha"
    EN = "english"
    EO = "esperanto"
    ET = "estonian"
    EE = "ewe"
    FO = "faroese"
    FJ = "fijian"
    FI = "finnish"
    FR = "french"
    FY = "western frisian"
    FF = "fulah"
    GD = "scottish gaelic"
    GL = "galician"
    LG = "ganda"
    KA = "georgian"
    DE = "german"
    EL = "greek"
    GN = "guarani"
    GU = "gujarati"
    HT = "haitian"
    HA = "hausa"
    HE = "hebrew"
    HZ = "herero"
    HI = "hindi"
    HO = "hiri motu"
    HU = "hungarian"
    IS = "icelandic"
    IO = "ido"
    IG = "igbo"
    ID = "indonesian"
    IA = "interlingua"
    IE = "interlingue"
    IU = "inuktitut"
    IK = "inupiaq"
    GA = "irish"
    IT = "italian"
    JA = "japanese"
    JV = "javanese"
    KN = "kannada"
    KR = "kanuri"
    KS = "kashmiri"
    KK = "kazakh"
    KM = "central khmer"
    KI = "kikuyu"
    RW = "kinyarwanda"
    KY = "kirghiz"
    KV = "komi"
    KG = "kongo"
    KO = "korean"
    KJ = "kuanyama"
    KU = "kurdish"
    LO = "lao"
    LA = "latin"
    LV = "latvian"
    LI = "limburgan"
    LN = "lingala"
    LT = "lithuanian"
    LU = "luba-katanga"
    LB = "luxembourgish"
    MK = "macedonian"
    MG = "malagasy"
    MS = "malay"
    ML = "malayalam"
    MT = "maltese"
    GV = "manx"
    MI = "maori"
    MR = "marathi"
    MH = "marshallese"
    MN = "mongolian"
    NA = "nauru"
    NV = "navajo"
    ND = "north ndebele"
    NR = "south ndebele"
    NG = "ndonga"
    NE = "nepali"
    SE = "northern sami"
    NO = "norwegian"
    NB = "norwegian bokmål"
    NN = "norwegian nynorsk"
    NY = "chichewa"
    OC = "occitan"
    OJ = "ojibwa"
    OR = "oriya"
    OM = "oromo"
    OS = "ossetian"
    PI = "pali"
    PS = "pashto"
    FA = "persian"
    PL = "polish"
    PT = "portuguese"
    PA = "punjabi"
    QU = "quechua"
    RO = "romanian"
    RM = "romansh"
    RN = "rundi"
    RU = "russian"
    SM = "samoan"
    SG = "sango"
    SA = "sanskrit"
    SC = "sardinian"
    SR = "serbian"
    SN = "shona"
    SD = "sindhi"
    SI = "sinhala"
    SK = "slovak"
    SL = "slovenian"
    SO = "somali"
    ST = "southern sotho"
    ES = "spanish"
    SU = "sundanese"
    SW = "swahili"
    SS = "swati"
    SV = "swedish"
    TL = "tagalog"
    TY = "tahitian"
    TG = "tajik"
    TA = "tamil"
    TT = "tatar"
    TE = "telugu"
    TH = "thai"
    BO = "tibetan"
    TI = "tigrinya"
    TO = "tonga"
    TS = "tsonga"
    TN = "tswana"
    TR = "turkish"
    TK = "turkmen"
    TW = "twi"
    UG = "uighur"
    UK = "ukrainian"
    UR = "urdu"
    UZ = "uzbek"
    VE = "venda"
    VI = "vietnamese"
    VO = "volapük"
    WA = "walloon"
    CY = "welsh"
    WO = "wolof"
    XH = "xhosa"
    YI = "yiddish"
    YO = "yoruba"
    ZU = "zulu"
    UNKNOWN = UNKNOWN_OPTION


class Gender(Enum):
    MALE = "male"
    FEMALE = "female"
    NON_BINARY = "non-binary"
    UNKNOWN = UNKNOWN_OPTION


class Age(Enum):
    TEEN = "teens"
    TWENTIES = "twenties"
    THIRTIES = "thirties"
    FORTIES = "forties"
    FIFTIES = "fifties"
    SIXTIES = "sixties"
    SEVENTIES = "seventies"
    EIGHTIES = "eighties"
    NINETIES = "nineties"
    UNKNOWN = UNKNOWN_OPTION


class Country(Enum):
    AF = "afghanistan"
    AL = "albania"
    DZ = "algeria"
    AS = "american samoa"
    AD = "andorra"
    AO = "angola"
    AI = "anguilla"
    AQ = "antarctica"
    AG = "antigua and barbuda"
    AR = "argentina"
    AM = "armenia"
    AW = "aruba"
    AU = "australia"
    AT = "austria"
    AZ = "azerbaijan"
    BS = "bahamas"
    BH = "bahrain"
    BD = "bangladesh"
    BB = "barbados"
    BY = "belarus"
    BE = "belgium"
    BZ = "belize"
    BJ = "benin"
    BM = "bermuda"
    BT = "bhutan"
    BO = "bolivia"
    BQ = "bonaire, sint eustatius and saba"
    BA = "bosnia and herzegovina"
    BW = "botswana"
    BV = "bouvet island"
    BR = "brazil"
    IO = "british indian ocean territory"
    BN = "brunei darussalam"
    BG = "bulgaria"
    BF = "burkina faso"
    BI = "burundi"
    CV = "cabo verde"
    KH = "cambodia"
    CM = "cameroon"
    CA = "canada"
    KY = "cayman islands"
    CF = "central african republic"
    TD = "chad"
    CL = "chile"
    CN = "china"
    CX = "christmas island"
    CC = "cocos (keeling) islands"
    CO = "colombia"
    KM = "comoros"
    CG = "congo"
    CD = "congo, democratic republic of the"
    CK = "cook islands"
    CR = "costa rica"
    HR = "croatia"
    CU = "cuba"
    CW = "curaçao"
    CY = "cyprus"
    CZ = "czechia"
    DK = "denmark"
    DJ = "djibouti"
    DM = "dominica"
    DO = "dominican republic"
    EC = "ecuador"
    EG = "egypt"
    SV = "el salvador"
    GQ = "equatorial guinea"
    ER = "eritrea"
    EE = "estonia"
    SZ = "eswatini"
    ET = "ethiopia"
    FK = "falkland islands (malvinas)"
    FO = "faroe islands"
    FJ = "fiji"
    FI = "finland"
    FR = "france"
    GF = "french guiana"
    PF = "french polynesia"
    TF = "french southern territories"
    GA = "gabon"
    GM = "gambia"
    GE = "georgia"
    DE = "germany"
    GH = "ghana"
    GI = "gibraltar"
    GR = "greece"
    GL = "greenland"
    GD = "grenada"
    GP = "guadeloupe"
    GU = "guam"
    GT = "guatemala"
    GG = "guernsey"
    GN = "guinea"
    GW = "guinea-bissau"
    GY = "guyana"
    HT = "haiti"
    HM = "heard island and mcdonald islands"
    VA = "holy see"
    HN = "honduras"
    HK = "hong kong"
    HU = "hungary"
    IS = "iceland"
    IN = "india"
    ID = "indonesia"
    IR = "iran"
    IQ = "iraq"
    IE = "ireland"
    IM = "isle of man"
    IL = "israel"
    IT = "italy"
    JM = "jamaica"
    JP = "japan"
    JE = "jersey"
    JO = "jordan"
    KZ = "kazakhstan"
    KE = "kenya"
    KI = "kiribati"
    KP = "korea (democratic people's republic of)"
    KR = "korea (republic of)"
    KW = "kuwait"
    KG = "kyrgyzstan"
    LA = "lao people's democratic republic"
    LV = "latvia"
    LB = "lebanon"
    LS = "lesotho"
    LR = "liberia"
    LY = "libya"
    LI = "liechtenstein"
    LT = "lithuania"
    LU = "luxembourg"
    MO = "macao"
    MG = "madagascar"
    MW = "malawi"
    MY = "malaysia"
    MV = "maldives"
    ML = "mali"
    MT = "malta"
    MH = "marshall islands"
    MQ = "martinique"
    MR = "mauritania"
    MU = "mauritius"
    YT = "mayotte"
    MX = "mexico"
    FM = "micronesia"
    MD = "moldova"
    MC = "monaco"
    MN = "mongolia"
    ME = "montenegro"
    MS = "montserrat"
    MA = "morocco"
    MZ = "mozambique"
    MM = "myanmar"
    NA = "namibia"
    NR = "nauru"
    NP = "nepal"
    NL = "netherlands"
    NC = "new caledonia"
    NZ = "new zealand"
    NI = "nicaragua"
    NE = "niger"
    NG = "nigeria"
    NU = "niue"
    NF = "norfolk island"
    MK = "north macedonia"
    MP = "northern mariana islands"
    NO = "norway"
    OM = "oman"
    PK = "pakistan"
    PW = "palau"
    PS = "palestine"
    PA = "panama"
    PG = "papua new guinea"
    PY = "paraguay"
    PE = "peru"
    PH = "philippines"
    PN = "pitcairn"
    PL = "poland"
    PT = "portugal"
    PR = "puerto rico"
    QA = "qatar"
    RE = "réunion"
    RO = "romania"
    RU = "russian federation"
    RW = "rwanda"
    BL = "saint barthélemy"
    SH = "saint helena, ascension and tristan da cunha"
    KN = "saint kitts and nevis"
    LC = "saint lucia"
    MF = "saint martin (french part)"
    PM = "saint pierre and miquelon"
    VC = "saint vincent and the grenadines"
    WS = "samoa"
    SM = "san marino"
    ST = "sao tome and principe"
    SA = "saudi arabia"
    SN = "senegal"
    RS = "serbia"
    SC = "seychelles"
    SL = "sierra leone"
    SG = "singapore"
    SX = "sint maarten (dutch part)"
    SK = "slovakia"
    SI = "slovenia"
    SB = "solomon islands"
    SO = "somalia"
    ZA = "south africa"
    GS = "south georgia and the south sandwich islands"
    SS = "south sudan"
    ES = "spain"
    LK = "sri lanka"
    SD = "sudan"
    SR = "suriname"
    SJ = "svalbard and jan mayen"
    SE = "sweden"
    CH = "switzerland"
    SY = "syrian arab republic"
    TW = "taiwan"
    TJ = "tajikistan"
    TZ = "tanzania"
    TH = "thailand"
    TL = "timor-leste"
    TG = "togo"
    TK = "tokelau"
    TO = "tonga"
    TT = "trinidad and tobago"
    TN = "tunisia"
    TR = "turkey"
    TM = "turkmenistan"
    TC = "turks and caicos islands"
    TV = "tuvalu"
    UG = "uganda"
    UA = "ukraine"
    AE = "united arab emirates"
    GB = "united kingdom"
    US = "united states of america"
    UM = "united states minor outlying islands"
    UY = "uruguay"
    UZ = "uzbekistan"
    VU = "vanuatu"
    VE = "venezuela"
    VN = "viet nam"
    VG = "virgin islands (british)"
    VI = "virgin islands (u.s.)"
    WF = "wallis and futuna"
    EH = "western sahara"
    YE = "yemen"
    ZM = "zambia"
    ZW = "zimbabwe"
    UNKNOWN = UNKNOWN_OPTION


@dataclass(frozen=True)
class SpeakerMetadata:
    gender: Gender
    """The gender of the speaker."""

    age: Age
    """The age of the speaker."""

    country: Country
    """The country of the speaker."""


@dataclass(frozen=True, eq=False)
class ASRInstance(Instance):
    """
    An `ASRInstance` represents one data point that we're evaluating on for ASR.
    It inherits all the fields from `Instance` and adds the following fields.
    """

    language: Language = Language.UNKNOWN
    """The language of the audio."""

    speaker_metadata: Optional[SpeakerMetadata] = None
    """Additional information about the speaker."""


@dataclass
class ASRScenario(Scenario):
    def get_gender(self, example: Dict[str, Any]) -> Gender:
        """
        Get the gender given the example.
        """
        return Gender.UNKNOWN

    def get_age(self, example: Dict[str, Any]) -> Age:
        """
        Get the age given the example.
        """
        return Age.UNKNOWN

    def get_country(self, example: Dict[str, Any]) -> Country:
        """
        Get the country given the example.
        """
        return Country.UNKNOWN

    def get_speaker_metadata(self, example: Dict[str, Any]) -> SpeakerMetadata:
        """
        Get the speaker metadata given the example.
        """
        return SpeakerMetadata(
            gender=self.get_gender(example),
            age=self.get_age(example),
            country=self.get_country(example),
        )
